# Rebind the prefix key. The default prefix key is bound in Emacs to
# move a character backwards.
unbind-key C-b
set -g prefix 'C-]'
bind-key 'C-]' send-prefix

# Start windows and panes at 1, not 0
set -g base-index 1
set -g pane-base-index 1

# I keep hitting C-] C-z instead of C-] z. Hopefully this will get me
# to learn the difference.
unbind-key C-z

bind-key b send-keys -R \; clear-history

setw -g mouse on

# Having the status bar on top looks more "natural" to me. The clock
# in the upper right corner is where I'm always looking for it and the
# windows look like tabs.
set -g status-position top

# tmux neverland colorscheme (forked from https://raw.githubusercontent.com/thiderman/dotfiles/master/tmux/colors/neverland.conf)

# The modes {
setw -g clock-mode-colour colour135
setw -g mode-attr bold
setw -g mode-fg colour196
setw -g mode-bg colour238
# }

# The panes {
set -g pane-border-bg colour235
set -g pane-border-fg colour238
set -g pane-active-border-bg colour236
set -g pane-active-border-fg colour51
# }

# The statusbar {
set -g status-bg colour234
set -g status-fg colour137
set -g status-attr dim
set -g status-right 'Batt: #{battery_icon}#{battery_percentage} #[fg=colour233,bg=colour241,bold] %a %d.%m.%Y #[fg=colour233,bg=colour245,bold] %H:%M'
set -g status-right-length 50
set -g status-left-length 20
set -g status-left '#[fg=colour250,bg=colour28][#S]'

setw -g window-status-current-fg colour81
setw -g window-status-current-bg colour238
setw -g window-status-current-attr bold
setw -g window-status-current-format ' #I#[fg=colour250]:#[fg=colour255]#W#[fg=colour50]#F '

setw -g window-status-fg colour138
setw -g window-status-bg colour235
setw -g window-status-attr none
setw -g window-status-format ' #I#[fg=colour237]:#[fg=colour250]#W#[fg=colour244]#F '

setw -g window-status-bell-attr bold
setw -g window-status-bell-fg colour255
setw -g window-status-bell-bg colour1
# }

# The messages {
set -g message-attr bold
set -g message-fg colour232
set -g message-bg colour166
# }

set -g @tpm_plugins '              \
  tmux-plugins/tpm                 \
  tmux-plugins/tmux-sensible       \
  tmux-plugins/tmux-battery        \
  tmux-plugins/tmux-copycat        \
  tmux-plugins/tmux-yank           \
  tmux-plugins/tmux-sessionist     \
'

run-shell '~/.tmux/plugins/tpm/tpm'
